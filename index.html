<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Combinations of Poker Hands</title>
</head>
<body>
    <main>
        <h2>poker hands</h2>
    </main>
    <samp id="bg">
        poker hands calculator
    </samp>
    
    <style>
        html, body {
            margin: 0;
            padding: 0;
            background-color: rgb(228, 217, 202);
        }
        main {
            height: calc(90vh - 2rem);
            width: calc(90vh - 2rem);
            position: fixed;
            left: calc(50vw - 45vh);
            top: 5vh;
            z-index: 3;
            padding: 1rem;
            border-radius: 5%;
            text-align: center;
            font-family: monospace;
            box-shadow: 4px 4px 12px 0px rgba(0, 0, 0, 0.3), -4px -4px 12px 0px rgba(255, 243, 226, 0.7);
            background-color: rgba(228, 217, 202, 0.7);
        }
        samp {
            position: fixed;
            top: 6px;
            left: 8px;
            line-height: 0.75rem;
            font-size: 0.75rem;
            opacity: 0.2;
            pointer-events: none;
            user-select: none;
            z-index: 0;
        }
    </style>
    <script>
        function fact(n) {
            if (n === 0) {
                return 1;
            } else if (n < 0) {
                throw new Error("factorial function called with subzero input, invalid configuration.");
            } else {
                return n * fact(n - 1);
            }
        }
        function perm(n, r) {
            return fact(n) / fact(n - r);
        }
        function comb(n, r) {
            return perm(n) / fact(r);
        }
        const definitions = {
            "straightcombos": (d, h, s, r, k) => r + 2 - h,
            "total": (d, h, s, r, k) => comb(d, h),
            "highcard": (d, h, s, r, k) => (comb(r, h) - k) * (s**h - s),
            "onepair": (d, h, s, r, k) => comb(r, 1) * comb(s, 2) * comb(r - 1, h - 2) * (comb(s, 1)**(h-2)),
            "twopair": (d, h, s, r, k) => comb(r, 2) * (comb(s, 2)**2) * comb(r - 2, h - 4) * (comb(s, 1)**(h-4)),
            "threekind": (d, h, s, r, k) => comb(r, 1) * comb(s, 3) * comb(r - 1, h - 3) * s**(h-3),
            "fullhouse": (d, h, s, r, k) => comb(r, 2) * comb(s, 3) * comb(s, 2) * comb(r - 2, h - 5) * s**(h-5),
            "fourkind": (d, h, s, r, k) => comb(r, 1) * comb(s, 4) * comb(d - 4, 1),
            "royalflush": (d, h, s, r, k) => 1 * comb(h, h) * s,
            "straightflush": (d, h, s, r, k) => (k - 1) * comb(s, 1),
            "straight": (d, h, s, r, k) => k * (s**h) - definitions.straightflush(d, h, s, r, k) - definitions.royalflush(d, h, s, r, k),
            "flush": (d, h, s, r, k) => comb(s, 1) * comb(r, h) - definitions.straightflush(d, h, s, r, k) - definitions.royalflush(d, h, s, r, k),
        }
        const bg = document.querySelector("#bg");
        Object.entries(definitions).forEach(ent => {
            bg.innerText += `\n${ent[0]} = ${ent[1].toString().split("=> ")[1]}`;
        });
    </script>
</body>
</html>